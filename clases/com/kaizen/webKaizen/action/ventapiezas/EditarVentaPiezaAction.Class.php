<?php/** * Acciï¿½n para editar un movimiento. * * @author Lucrecia * @since 22-04-2010 * */abstract class EditarVentaPiezaAction extends EditarAction {    /**     * (non-PHPdoc)     * @see clases/com/codnet/action/generic/EditarAction#getEntidad()     */    protected function getEntidad() {        $oVentaPieza = new VentaPieza();        if (isset($_SESSION['piezasavender']) && (count($_SESSION['piezasavender']))) {            if (isset($_POST ['cd_ventapieza'])) {                $oVentaPieza->setCd_ventapieza($_POST['cd_ventapieza']);            }            if (isset($_POST ['nu_preciocobrado'])) {                $oVentaPieza->setNu_precioCobrado($_POST['nu_preciocobrado']);            }            if (isset($_POST ['nu_preciomin'])) {                $oVentaPieza->setNu_precioMin($_POST['nu_preciomin']);            }            if (isset($_POST ['ds_apynomcliente'])) {                $oVentaPieza->setDs_apynomCliente($_POST['ds_apynomcliente']);            }            if (isset($_POST ['nu_docCliente'])) {                $oVentaPieza->setNu_docCliente($_POST['nu_docCliente']);            }            if (isset($_POST ['ds_telcliente'])) {                $oVentaPieza->setDs_telCliente($_POST['ds_telcliente']);            }            if (isset($_POST ['ds_motocliente'])) {                $oVentaPieza->setDs_motoCliente($_POST['ds_motocliente']);            }            if (isset($_POST ['cd_sucursal'])) {                $oVentaPieza->setCd_sucursal($_POST['cd_sucursal']);            }            if (isset($_POST ['nu_pedidoreparacion'])) {                $oVentaPieza->setNu_pedidoReparacion($_POST['nu_pedidoreparacion']);            }            /*if (isset($_POST ['dt_ventapieza'])) {                $dt_fecha = str_replace("/", "-", $_POST['dt_ventapieza']);                $dt_fecha = implode("-", array_reverse(explode("-", $dt_fecha)));                $oVentaPieza->setDt_ventaPieza($dt_fecha);            }*/            $oVentaPieza->setDt_ventaPieza(date('Y-m-d'));            if (isset($_POST ['ds_descripcion'])) {                $oVentaPieza->setDs_descripcion($_POST['ds_descripcion']);            }            if (isset($_POST ['nu_destino'])) {                $oVentaPieza->setNu_destino($_POST['nu_destino']);            }            $oUsuario = new Usuario();            if (isset($_POST ['cd_usuario'])) {                $oUsuario->setCd_usuario(addslashes($_POST ['cd_usuario']));            } else {                $oUsuario->setCd_usuario($_SESSION['cd_usuarioSession']);            }            $oVentaPieza->setUsuario($oUsuario);            $piezasavender = $_SESSION['piezasavender'];            $entidad[0] = $oVentaPieza;            $entidad[1] = $piezasavender;            return $entidad;        }    }}